<div class="dashboard-container">
    <header class="dashboard-header">
        <div class="welcome-section">
            <h1>Buen dÃ­a, {{ usuario()?.nombre || 'Colega' }} ğŸ‘‹</h1>
            <p class="date">{{ ahora | date: 'fullDate' : '' : 'es-MX' }} | {{ ahora | date: 'shortTime' }}</p>
        </div>
        <button class="btn-refresh" (click)="cargarMetricas()" [disabled]="loading()">
            <span class="refresh-icon" [class.spinning]="loading()">â†»</span> Actualizar
        </button>
    </header>

    <!-- Skeleton / Loader -->
    <div *ngIf="loading()" class="metrics-grid">
        <div class="metric-card skeleton" *ngFor="let i of [1,2,3,4]"></div>
    </div>

    <!-- MÃ©tricas -->
    <div *ngIf="!loading()" class="metrics-grid">
        <div class="metric-card sales">
            <div class="icon">ğŸ’°</div>
            <div class="info">
                <h3>Ventas del DÃ­a</h3>
                <p class="value">{{ formatMoneda(ventasHoy()) }}</p>
            </div>
        </div>

        <div class="metric-card tables">
            <div class="icon">ğŸª‘</div>
            <div class="info">
                <h3>Mesas Activas</h3>
                <p class="value">{{ mesasActivas() }}</p>
            </div>
        </div>

        <div class="metric-card prep">
            <div class="icon">ğŸ³</div>
            <div class="info">
                <h3>En PreparaciÃ³n</h3>
                <p class="value">{{ pedidosPrep() }}</p>
            </div>
        </div>

        <div class="metric-card stock" [class.critical]="alertasInventario() > 0">
            <div class="icon">ğŸ“¦</div>
            <div class="info">
                <h3>Alertas Stock</h3>
                <p class="value">{{ alertasInventario() }}</p>
            </div>
        </div>
    </div>

    <!-- NavegaciÃ³n RÃ¡pida -->
    <section class="quick-nav">
        <h2>Acciones RÃ¡pidas</h2>
        <div class="nav-buttons">
            <button *ngIf="alertasInventario() > 0" class="btn btn-danger" (click)="navegar('/admin/inventario')">
                âš ï¸ Ver alertas de inventario ({{ alertasInventario() }})
            </button>

            <button *ngIf="pedidosPrep() > 0" class="btn btn-warning" (click)="navegar('/kds')">
                ğŸ³ Ver cocina ({{ pedidosPrep() }} pendientes)
            </button>

            <button class="btn btn-primary" (click)="navegar('/admin/mesas')">
                ğŸ½ï¸ Ver mesas
            </button>
        </div>
    </section>
</div>