<div class="app-shell">
    <aside class="sidebar" [class.expanded]="sidebarExpanded" (mouseenter)="sidebarExpanded=true"
        (mouseleave)="sidebarExpanded=false">

        <div class="sidebar-logo">
            <lucide-icon name="coffee" [size]="22" class="logo-icon"></lucide-icon>
            <span class="logo-text">SmartOrder</span>
        </div>

        <div class="sidebar-lona"></div>

        <nav class="sidebar-nav">
            <a *ngFor="let item of itemsVisibles()" [routerLink]="item.route" routerLinkActive="active" class="nav-item"
                [title]="item.label">
                <lucide-icon [name]="item.icon" [size]="20" class="nav-icon"></lucide-icon>
                <span class="nav-label">{{ item.label }}</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="user-row">
                <div class="user-avatar">
                    <lucide-icon name="users" [size]="14"></lucide-icon>
                </div>
                <div class="user-info">
                    <span class="user-name">{{ auth.currentUser()?.nombre }}</span>
                    <span class="user-role">{{ auth.currentUser()?.rol }}</span>
                </div>
            </div>
            <button class="logout-btn" (click)="logout()" title="Cerrar sesion">
                <lucide-icon name="log-out" [size]="18"></lucide-icon>
                <span class="nav-label">Salir</span>
            </button>
        </div>
    </aside>

    <main class="main-content">
        <router-outlet></router-outlet>
    </main>
</div>